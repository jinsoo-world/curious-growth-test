// ì§ˆë¬¸ ë°ì´í„° ë° ë°°ì  ì •ë³´

export const questions = [
  {
    id: 1,
    text: "ì‹œê°„ ê°€ëŠ” ì¤„ ëª¨ë¥´ê³  ëª°ìž…í•˜ê²Œ ë˜ëŠ” í™œë™ì€ ë¬´ì—‡ì¸ê°€ìš”?",
    options: [
      { text: "ìƒˆë¡œìš´ ì§€ì‹ì„ ë°°ìš°ê³  ì´í•´í•  ë•Œ", scores: { D: 1 } },
      { text: "ê¸€Â·ìžë£ŒÂ·ì˜ìƒ ë“± ë¬´ì–¸ê°€ë¥¼ ë§Œë“¤ì–´ë‚¼ ë•Œ", scores: { A: 1 } },
      { text: "ì‚¬ëžŒë“¤ ì•žì—ì„œ ë‚´ ìƒê°ì´ë‚˜ ê²½í—˜ì„ ì´ì•¼ê¸°í•˜ë©° ë°˜ì‘ì´ ì˜¤ê°ˆ ë•Œ", scores: { A: 1, B: 1 } }
    ]
  },
  {
    id: 2,
    text: "ì¸ìƒ 2ë§‰ì—ì„œ ê°€ìž¥ ê°€ê¹Œìš´ ì´ìƒì ì¸ ëª¨ìŠµì€ ë¬´ì—‡ì¸ê°€ìš”?",
    options: [
      { text: "ë‚´ ì´ë¦„ê³¼ ì´ì•¼ê¸°ê°€ ë“œëŸ¬ë‚˜ëŠ” ì‚¶", scores: { A: 1 } },
      { text: "ë‹¤ë¥¸ ì‚¬ëžŒì˜ ì„±ìž¥ì„ ë•ëŠ” ì¡°ë ¥ìžÂ·ë©˜í† ", scores: { D: 1 } },
      { text: "ì¡°ìš©ížˆ ì „ë¬¸ì„±ì„ ìŒ“ì•„ê°€ëŠ” ìž¥ì¸", scores: { D: 1 } }
    ]
  },
  {
    id: 3,
    text: "ì§€ê¸ˆ ë¬´ì–¸ê°€ë¥¼ ë°°ìš°ê³  ì‹¶ë‹¤ë©´ ê°€ìž¥ í° ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
    options: [
      { text: "ë’¤ì²˜ì§ˆê¹Œ ë´ ë¶ˆì•ˆí•´ì„œ", scores: { C: 1 } },
      { text: "ìˆ˜ìµì´ë‚˜ ì¼ê±°ë¦¬ê°€ í•„ìš”í•´ì„œ", scores: { B: 1 } },
      { text: "ë‚˜ë¥¼ ì„±ìž¥ ì‹œí‚¤ê³  ì‹¶ì–´ì„œ", scores: { A: 1 } }
    ]
  },
  {
    id: 4,
    text: "ëŒ€í™” ì¤‘ ìœ ë… ìžì‹  ìžˆê²Œ ì˜¤ëž˜ ì´ì•¼ê¸°í•  ìˆ˜ ìžˆëŠ” ì£¼ì œê°€ ìžˆë‚˜ìš”?",
    options: [
      { text: "íŠ¹ì • ë¶„ì•¼ì˜ ì§€ì‹Â·ì •ë³´", scores: { D: 1 } },
      { text: "ë‚´ê°€ ì§ì ‘ ê²ªì€ ì¸ìƒ ê²½í—˜", scores: { A: 1 } },
      { text: "íŠ¹ë³„ížˆ ë– ì˜¤ë¥´ëŠ” ì£¼ì œëŠ” ì—†ë‹¤", scores: { C: 1 } }
    ]
  },
  {
    id: 5,
    text: "ë‚´ê°€ ë§Œë“  ê¸€ì´ë‚˜ ì‚¬ì§„ì„ ì§€ì¸ë“¤ì—ê²Œ ê³µìœ í•˜ëŠ” ê²ƒì— ëŒ€í•´ ì–´ë–»ê²Œ ëŠë¼ë‚˜ìš”?",
    options: [
      { text: "êµ³ì´ ê³µìœ í•  í•„ìš”ë¥¼ ëŠë¼ì§€ ì•ŠëŠ”ë‹¤", scores: { C: 1, D: 1 } },
      { text: "ì†Œìˆ˜ì˜ ì‚¬ëžŒì—ê²Œë§Œ ì„ ë³„ì ìœ¼ë¡œ ê³µìœ í•œë‹¤", scores: { C: 1, D: 1 } },
      { text: "ë°˜ì‘ì„ í¬ê²Œ ì˜ì‹í•˜ì§€ ì•Šê³  ê³µìœ í•œë‹¤", scores: { A: 1 } }
    ]
  },
  {
    id: 6,
    text: "ì§‘ ì•ˆì— ë‚˜ë§Œì˜ ìž‘ì—… ê³µê°„ì´ ìžˆë‚˜ìš”?",
    options: [
      { text: "ë”°ë¡œ ì—†ë‹¤", scores: { C: 1 } },
      { text: "ê³µìš© ê³µê°„ì„ ëˆˆì¹˜ ë³´ë©° ì‚¬ìš©í•œë‹¤", scores: { C: 1 } },
      { text: "ëª°ìž…í•  ìˆ˜ ìžˆëŠ” ê³µê°„ì´ ìžˆê³ , í˜¼ìž ì§‘ì¤‘í•˜ëŠ” íŽ¸ì´ë‹¤", scores: { A: 1, D: 1 } }
    ]
  },
  {
    id: 7,
    text: "ìŠ¤ë§ˆíŠ¸í°ì´ë‚˜ ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ ì‚¬ìš© ì¤‘ ë§‰ížˆë©´ ë³´í†µ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?",
    options: [
      { text: "í¬ê¸°í•˜ëŠ” íŽ¸ì´ë‹¤", scores: { C: 1 } },
      { text: "ëˆ„êµ°ê°€ ë„ì™€ì¤„ ë•Œê¹Œì§€ ë¯¸ë£¬ë‹¤", scores: { C: 1 } },
      { text: "ì§€ì¸ì—ê²Œ ë¬¼ì–´ë³´ê±°ë‚˜ ì¸í„°ë„·ì„ ê²€ìƒ‰í•´ ëê¹Œì§€ í•´ê²°í•œë‹¤", scores: { A: 1, D: 1 } }
    ]
  },
  {
    id: 8,
    text: "ìƒˆë¡œìš´ ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ì—ì„œ íšŒì›ê°€ìž…ì´ë‚˜ ì¸ì¦ ê³¼ì •ì´ ë‚˜ì˜¤ë©´?",
    options: [
      { text: "ë³µìž¡í•˜ë©´ ë¯¸ë£¬ë‹¤", scores: { C: 1 } },
      { text: "ë„ì›€ì„ ë°›ì•„ì„œë¼ë„ ì‹œë„í•œë‹¤", scores: { A: 1 } },
      { text: "ë©”ëª¨í•˜ë©° ìŠ¤ìŠ¤ë¡œ ì™„ë£Œí•œë‹¤", scores: { D: 1 } }
    ]
  },
  {
    id: 9,
    text: "ì „ë¬¸ì ì¸ ê²°ê³¼ë¬¼ì´ í•„ìš”í•  ë•Œ, ì„ í˜¸í•˜ëŠ” ë°©ì‹ì€ ë¬´ì—‡ì¸ê°€ìš”?",
    options: [
      { text: "ì§ì ‘ ë°°ì›Œ ë§Œë“¤ê³  ì‹¶ë‹¤", scores: { D: 1 } },
      { text: "ë¹„ìš©ì„ ì§€ë¶ˆí•´ ì „ë¬¸ê°€ì—ê²Œ ë§¡ê¸´ë‹¤", scores: { B: 1 } },
      { text: "ê¸°ë³¸ì€ ë°°ìš°ê³ , ì¼ë¶€ëŠ” ë§¡ê¸´ë‹¤", scores: { A: 1 } }
    ]
  },
  {
    id: 10,
    text: "ë°°ì›€ì„ ì„ íƒí•  ë•Œ 'ì‹¤ì œ í™œìš© ê°€ëŠ¥ì„±'ì€ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œê°€ìš”?",
    options: [
      { text: "ë§¤ìš° ì¤‘ìš”í•˜ë‹¤", scores: { B: 1 } },
      { text: "ì¤‘ìš”í•˜ì§€ë§Œ í¥ë¯¸ë„ ë³¸ë‹¤", scores: { A: 1 } },
      { text: "í¬ê²Œ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤", scores: { C: 1 } }
    ]
  },
  {
    id: 11,
    text: "ê³µë¶€ë‚˜ ìžê¸°ê°œë°œì„ í•  ë•Œ, ì£¼ë³€ì˜ ë¶€ì •ì ì¸ ë°˜ì‘ì´ ìžˆìœ¼ë©´ ë‚˜ëŠ”?",
    options: [
      { text: "ì£¼ë³€ì˜ ì§€ì§€ê°€ ì—†ìœ¼ë©´ ê³µë¶€ë¥¼ ì´ì–´ê°€ê¸° ì–´ë µë‹¤", scores: { C: 1 } },
      { text: "ì˜¤ížˆë ¤ ë” ë°°ìš°ê³  ê²°ê³¼ë¡œ ë³´ì—¬ì£¼ê³  ì‹¶ì–´ì§„ë‹¤", scores: { A: 1 } },
      { text: "ì£¼ë³€ ë°˜ì‘ê³¼ ìƒê´€ì—†ì´, í•„ìš”í•˜ë‹¤ê³  ëŠë¼ë©´ ê³„ì†í•œë‹¤", scores: { D: 1 } }
    ]
  },
  {
    id: 12,
    text: "ë‚˜ì˜ ì„±ìž¥ì„ ìœ„í•´ ì›” 20ë§Œ ì› ìœ ë£Œ ì„œë¹„ìŠ¤ë¥¼ ê²°ì œí•´ì•¼ í•œë‹¤ë©´?",
    options: [
      { text: "ê°€ê¸‰ì  ë¬´ë£Œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ê³  ì‹¶ë‹¤", scores: { C: 1 } },
      { text: "ì¶©ë¶„ížˆ ê³ ë¯¼ í›„ ê²°ì •í•œë‹¤", scores: { D: 1 } },
      { text: "í•„ìš”í•˜ë©´ ë¹„êµì  ë¹ ë¥´ê²Œ ê²°ì œí•œë‹¤", scores: { B: 1 } }
    ]
  },
  {
    id: 13,
    text: "ëˆ„êµ°ê°€ ë‚´ ê²½í—˜ì´ë‚˜ ë…¸í•˜ìš°ë¥¼ ì‚¬ê³  ì‹¶ë‹¤ê³  í•œë‹¤ë©´?",
    options: [
      { text: "ì•„ì§ ì •ë¦¬ëœ í˜•íƒœëŠ” ì—†ë‹¤", scores: { C: 1 } },
      { text: "ë§ë¡œ ì„¤ëª…ì€ ê°€ëŠ¥í•˜ë‹¤", scores: { D: 1 } },
      { text: "ì „ë‹¬ ê°€ëŠ¥í•œ ìžë£ŒÂ·ìƒí’ˆì´ ìžˆë‹¤", scores: { A: 1 } }
    ]
  },
  {
    id: 14,
    text: "ìµœê·¼ í•œ ë‹¬ê°„, ë¬´ì–¸ê°€ë¥¼ 'ì§ì ‘ ë§Œë“¤ì–´ë³¸' ê²½í—˜ì´ ìžˆë‚˜ìš”?",
    options: [
      { text: "ì†Œë¹„ ìœ„ì£¼ì˜€ë‹¤", scores: { C: 1 } },
      { text: "ê²°ê³¼ë¬¼Â·ê¸°ë¡ì„ ë‚¨ê²¼ë‹¤", scores: { A: 1 } }
    ]
  },
  {
    id: 15,
    text: "ì¸ìƒ í›„ë°˜ì „ì„ ì¤€ë¹„í•˜ë©°, ì§€ê¸ˆ ê°€ìž¥ íˆ¬ìží•˜ê³  ì‹¶ì€ ê°€ì¹˜ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
    options: [
      { text: "ì½˜í…ì¸  ì™„ì„± Â· í¼ìŠ¤ë„ ë¸Œëžœë”©", scores: { A: 1 } },
      { text: "ì „ë¬¸ê°€ì™€ í•¨ê»˜ ì™„ê²°í•˜ê¸°", scores: { B: 1 } },
      { text: "ê°€ë²¼ìš´ ì²´í—˜ Â· ì²« ì‹œìž‘", scores: { C: 1 } },
      { text: "ì›ê³  ì •ë¦¬ Â· ì¶œê°„", scores: { D: 1 } }
    ]
  }
];

// B ìœ í˜• í•µì‹¬ ë¬¸í•­ (4ê°œ ì¤‘ 3ê°œ ì´ìƒ ì¶©ì¡± ì‹œ B ìš°ì„  íŒì •)
export const bTypeKeyQuestions = [3, 9, 12, 15]; // Q3, Q9, Q12, Q15

// ìœ í˜•ë³„ ê²°ê³¼ ì •ë³´
export const typeResults = {
  A: {
    name: "ì•¼ë§ ìžˆëŠ” í¬ë¦¬ì—ì´í„°",
    emoji: "ðŸ”¥",
    currentState: [
      "ì´ë¯¸ ë¬´ì–¸ê°€ë¥¼ **ë§Œë“¤ê³  ì‹¤í–‰í•´ë³¸ ê²½í—˜**ì´ ìžˆê³ ",
      "ê²°ê³¼ë¬¼ì„ í†µí•´ **ë‚´ ì´ë¦„ê³¼ ì´ì•¼ê¸°ë¥¼ ë“œëŸ¬ë‚´ê³  ì‹¶ì€ ìš•êµ¬**ê°€ ë¶„ëª…í•œ ìƒíƒœìž…ë‹ˆë‹¤.",
      "",
      "â†’ ì‹œë„ì™€ ì‹¤í–‰ì€ ì¶©ë¶„ížˆ í•´ì™”ê³ ,",
      "ì´ì œëŠ” **ë°©í–¥ê³¼ ì™„ì„±ë„**ë¥¼ í•¨ê»˜ ê³ ë¯¼í•˜ëŠ” ë‹¨ê³„ì¼ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤."
    ],
    concerns: [
      "ê²°ê³¼ë¬¼ì€ ìžˆëŠ”ë°, **ì´ê²Œ ë§žëŠ” ë°©í–¥ì¸ì§€ í™•ì‹ ì´ ì•ˆ ë“œëŠ” ìƒíƒœ**",
      "ë” í‚¤ìš°ê³  ì‹¶ì€ë°, **ì–´ë””ì„œë¶€í„° ì†ëŒ€ì•¼ í• ì§€ ë§‰ë§‰í•œ ìƒíƒœ**"
    ],
    needs: [
      "ì•„ì´ë””ì–´ë¥¼ **ì™„ê²°ëœ ê²°ê³¼ë¬¼**ë¡œ ë§Œë“œëŠ” êµ¬ì¡°",
      "í˜¼ìž ë²„í‹°ì§€ ì•Šì•„ë„ ë˜ëŠ” **ì œìž‘Â·ì‹¤í–‰ ì‹œìŠ¤í…œ**"
    ],
    recommendation: "ì½˜í…ì¸  ìˆ˜ìµí™” ê³¼ì •"
  },
  B: {
    name: "ê²°ì •í˜• ë¦¬ë”",
    emoji: "âš¡",
    currentState: [
      "í•™ìŠµ ê·¸ ìžì²´ë³´ë‹¤ **ì‹œê°„ ëŒ€ë¹„ ê²°ê³¼ì™€ íš¨ìœ¨**ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ê³ ",
      "ì§ì ‘ í•˜ê¸°ë³´ë‹¤ëŠ” **ìž˜ ë§Œë“¤ì–´ì§„ ê²°ê³¼ë¥¼ ë¹ ë¥´ê²Œ ì–»ëŠ” ê²ƒ**ì— ê°€ì¹˜ë¥¼ ë‘ëŠ” ìƒíƒœìž…ë‹ˆë‹¤.",
      "",
      "â†’ ë°©í–¥ê³¼ íŒë‹¨ë ¥ì€ ì´ë¯¸ ê°–ì¶”ì—ˆê³ ,",
      "ì§€ê¸ˆì€ **ìœ„ìž„ì´ ê°€ìž¥ í•©ë¦¬ì ì¸ ì‹œì **ì¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤."
    ],
    concerns: [
      "\"ì´ê±´ ë‚´ê°€ ì§ì ‘ ì•ˆ í•´ë„ ë˜ì§€ ì•Šì„ê¹Œ?\"",
      "\"ìž˜í•˜ëŠ” ì‚¬ëžŒì—ê²Œ ë§¡ê¸°ëŠ” ê²Œ ë” ë¹ ë¥´ì§€ ì•Šì„ê¹Œ?\""
    ],
    needs: [
      "ì‹œí–‰ì°©ì˜¤ë¥¼ ì¤„ì—¬ì£¼ëŠ” **ì „ë¬¸ê°€ì˜ ê°œìž…**",
      "ë¹ ë¥´ê²Œ ì„±ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìžˆëŠ” **ëŒ€í–‰Â·ì»¨ì„¤íŒ…**"
    ],
    recommendation: "1:1 ë§žì¶¤ ì»¨ì„¤íŒ…"
  },
  C: {
    name: "ì„±ìž¥ íƒìƒ‰ìž",
    emoji: "ðŸŒ±",
    currentState: [
      "ê´€ì‹¬ê³¼ ìž ìž¬ë ¥ì€ ë¶„ëª…í•˜ì§€ë§Œ",
      "í™˜ê²½ì Â·ì‹¬ë¦¬ì  ì´ìœ ë¡œ **ì‹¤í–‰ì´ ì‰½ê²Œ ì´ì–´ì§€ì§€ ì•ŠëŠ” ìƒíƒœ**ìž…ë‹ˆë‹¤.",
      "",
      "â†’ ì•„ì§ ì¤€ë¹„ê°€ ì•ˆ ëœ ê²Œ ì•„ë‹ˆë¼,",
      "**ì¡°ê±´ê³¼ ë°©ì‹ì´ ë§žì§€ ì•Šì•˜ì„ ê°€ëŠ¥ì„±**ì´ í½ë‹ˆë‹¤."
    ],
    concerns: [
      "ì‹œìž‘ì€ í•˜ê³  ì‹¶ì€ë°, **ê´œížˆ ëˆˆì— ëŒê¹Œ ë§ì„¤ì—¬ì§€ëŠ” ìƒíƒœ**",
      "í˜¼ìž í•˜ë ¤ë‹ˆ **ê³„ì† ë¯¸ë¤„ì§€ê¸°ë§Œ í•˜ëŠ” ìƒíƒœ**"
    ],
    needs: [
      "ë¶€ë‹´ ì—†ì´ ì‹œìž‘í•  ìˆ˜ ìžˆëŠ” ìž‘ì€ ì‹œë„",
      "ë¹„êµÂ·ë…¸ì¶œ ì—†ì´ ì•ˆì „í•˜ê²Œ ì—°ìŠµí•  ìˆ˜ ìžˆëŠ” **í™˜ê²½ê³¼ ë¦¬ë“¬**"
    ],
    recommendation: "ì„±ìž¥ ë£¨í‹´ ì±Œë¦°ì§€"
  },
  D: {
    name: "ì¡°ìš©í•œ ì‹¤ë ¥ìž",
    emoji: "ðŸ“˜",
    currentState: [
      "ìŒ“ì•„ì˜¨ ê²½í—˜ê³¼ ì—­ëŸ‰ì€ ì¶©ë¶„í•˜ì§€ë§Œ",
      "ë“œëŸ¬ë‚´ê¸°ë³´ë‹¤ëŠ” **ì •ë¦¬í•˜ê³  ì™„ì„±í•˜ëŠ” ê²ƒ**ì„ ë” ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ëŠ” ìƒíƒœìž…ë‹ˆë‹¤.",
      "",
      "â†’ ë°©í–¥ë§Œ ìž¡ížˆë©´,",
      "ì˜ì™¸ë¡œ **ë¹ ë¥´ê²Œ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìžˆëŠ” ë‹¨ê³„**ìž…ë‹ˆë‹¤."
    ],
    concerns: [
      "ê²½í—˜ì€ ë§Žì€ë°, **ì–´ë–»ê²Œ ì •ë¦¬í•´ì•¼ í• ì§€ ë§‰ë§‰í•œ ìƒíƒœ**",
      "ë§ë¡œëŠ” ì„¤ëª…í•  ìˆ˜ ìžˆì§€ë§Œ, **í˜•íƒœë¡œ ë‚¨ì•„ ìžˆì§€ ì•Šì€ ìƒíƒœ**"
    ],
    needs: [
      "ë§ê³¼ ê²½í—˜ì„ **êµ¬ì¡°í™”ëœ ìžì‚°**ìœ¼ë¡œ ë§Œë“œëŠ” ê³¼ì •",
      "ë…¸ì¶œ ë¶€ë‹´ì´ ì ì€ ë°©ì‹ì˜ **ê²°ê³¼ë¬¼ ì™„ì„±**"
    ],
    recommendation: "ë‹¨ë…/ê³µì € ì¶œíŒ ê³¼ì •"
  }
};

// ë°°ì  ê³„ì‚° í•¨ìˆ˜
export function calculateScores(answers) {
  const scores = { A: 0, B: 0, C: 0, D: 0 };
  const bKeyAnswers = { count: 0, total: 0 };
  
  answers.forEach((answer, index) => {
    if (answer === null) return;
    
    const question = questions[index];
    const selectedOption = question.options[answer];
    
    if (selectedOption && selectedOption.scores) {
      Object.entries(selectedOption.scores).forEach(([type, points]) => {
        scores[type] += points;
      });
      
      // B ìœ í˜• í•µì‹¬ ë¬¸í•­ ì²´í¬
      if (bTypeKeyQuestions.includes(question.id)) {
        bKeyAnswers.total++;
        if (selectedOption.scores.B) {
          bKeyAnswers.count++;
        }
      }
    }
  });
  
  return { scores, bKeyAnswers };
}

// ìµœì¢… ìœ í˜• íŒì • í•¨ìˆ˜
export function determineType(scores, bKeyAnswers) {
  // B ìœ í˜• ìš°ì„  íŒì •: í•µì‹¬ ë¬¸í•­ 4ê°œ ì¤‘ 3ê°œ ì´ìƒ ì¶©ì¡±
  if (bKeyAnswers.count >= 3 && bKeyAnswers.total >= 3) {
    return 'B';
  }
  
  // ì´ì ì´ ê°€ìž¥ ë†’ì€ ìœ í˜• ì„ íƒ
  const maxScore = Math.max(...Object.values(scores));
  const topTypes = Object.entries(scores)
    .filter(([_, score]) => score === maxScore)
    .map(([type]) => type);
  
  // ë™ì ì¸ ê²½ìš° ìš°ì„ ìˆœìœ„: A > D > C > B
  const priority = ['A', 'D', 'C', 'B'];
  for (const type of priority) {
    if (topTypes.includes(type)) {
      return type;
    }
  }
  
  return topTypes[0] || 'C';
}
